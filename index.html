<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğŸ” LoginÂ â€“Â Controle de RemÃ©dios</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#1d3557" />
  <link rel="icon" href="icons/icon-192.png" />

  <!-- Estilo -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- TELA DE LOGIN -->
  <div id="login-screen" class="screen" role="main" aria-label="FormulÃ¡rio de login">
    <div class="login-box">
      <h1><center>Bemâ€‘vindo,â€¯Matheus!</center></h1>
      <form id="login-form" autocomplete="off">
        <label for="username">ğŸ‘¤â€¯UsuÃ¡rio:</label>
        <input type="text" id="username" name="username"
               placeholder="Digite seu usuÃ¡rio" required autocomplete="username" />

        <label for="password">ğŸ”’â€¯Senha:</label>
        <input type="password" id="password" name="password"
               placeholder="Digite sua senha" required autocomplete="current-password" />

        <button type="submit" aria-label="Entrar no sistema">Entrarâ€¯ğŸš€</button>
        <div id="login-error" class="error-message" role="alert" aria-live="assertive"></div>
      </form>
    </div>
  </div>

  <!-- TELA DE CONTROLE -->
  <div id="controle-screen" class="screen" style="display:none;"
       role="main" aria-label="Controle de estoque de remÃ©dios">
    <div class="header-controle">
      <h1>ğŸ’Šâ€¯Controle de Estoque de RemÃ©dios</h1>
      <button id="toggle-theme" aria-label="Alternar modo claro e escuro">ğŸŒ—â€¯Tema</button>
    </div>

    <div id="last-update" aria-live="polite">Ãšltima atualizaÃ§Ã£o: --</div>
    <button id="reset" aria-label="Resetar estoque">ğŸ—‘ï¸â€¯Resetarâ€¯Estoque</button>

    <table aria-label="Tabela de controle de estoque de remÃ©dios">
      <thead>
        <tr>
          <th scope="col">RemÃ©dio</th>
          <th scope="col">Estoque Inicial</th>
          <th scope="col">Total Entradas</th>
          <th scope="col">Total SaÃ­das</th>
          <th scope="col">Estoque Atual</th>
          <th scope="col">AÃ§Ãµes</th>
        </tr>
      </thead>
      <tbody id="meds-table-body"></tbody>
    </table>
  </div>

  <!-- BotÃ£o WhatsApp -->
  <a href="https://wa.me/5562991125182" target="_blank" rel="noopener noreferrer"
     class="whatsapp-btn" aria-label="Contato WhatsApp">ğŸ“</a>

  <!-- Scripts -->
  <script src="script.js"></script>
  <script>
    /* Registro do ServiceÂ Worker */
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log('âœ… Serviceâ€¯Worker registrado:', reg.scope))
          .catch(err => console.error('âŒ Falha no SW:', err));
      });
    }
  </script>
</body>
</html>
